package _0_024_exercises;

import java.math.BigDecimal;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

class FibonacciWithTabulationTest {

    // fibonacci numbers: 0,1,1,2,3,5,8,13,21,34,55

    @Test
    public void test1() {
        int N = 4;
        BigDecimal expected = new BigDecimal(3);
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

    @Test
    public void test2() {
        int N = 0;
        BigDecimal expected = BigDecimal.ZERO;
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

    @Test
    public void test3() {
        int N = 1;
        BigDecimal expected = BigDecimal.ONE;
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

    @Test
    public void test4() {
        int N = 2;
        BigDecimal expected = BigDecimal.ONE;
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

    @Test
    public void test5() {
        int N = 3;
        BigDecimal expected = new BigDecimal(2);
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

    @Test
    public void test6() {
        int N = 10;
        BigDecimal expected = new BigDecimal(55);
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

    @Test
    public void test7() {
        int N = 100;
        BigDecimal expected = new BigDecimal("354224848179261915075");
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

    @Test
    public void test8() {
        int N = 500;
        BigDecimal expected = new BigDecimal("139423224561697880139724382870407283950070256587697307264108962948325" +
                "571622863290691557658876222521294125");
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

    @Test
    public void test9() {
        int N = 1000;
        BigDecimal expected = new BigDecimal("43466557686937456435688527675040625802564660517371780402481729089536" +
                "55541794905189040387984007925516929592259308032263477520968962323987332247116164299644090653318793829" +
                "8969649928516003704476137795166849228875");
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }


    //This test will pass without StackOverFlowError because of tabulation technic and don't use recursive call
    @Test
    public void test10() {
        int N = 50000;
        BigDecimal expected = new BigDecimal("107777348930729747802790388551194808296251067694115797849023092100327" +
                "447353646523049848844402047602984931943328327405495330753981733048306741483538717555454051984462008734" +
                "642493807232582130167019081198825161861495958608540993737510653044874463782996851389325663668163313173" +
                "204591893189886313559961265561554638976403055715140539792260124322730482900071690886378620675517700832" +
                "269328087849866274058836537593758274508704744192976808834961311297128859285176754848415103252385146533" +
                "492152825245908446669841110158718288730189450631134151562379824589360041756899572012659615762899095935" +
                "573140213802968576539055708953584711268396232119536018973338811423814051526459374092715232650405958375" +
                "081521373236848159323672844757511946755746455442212654222027569628393753675905915595546387856425689666" +
                "711676146738480380143490980332147126552524514415254983204873493016605676882066877175991974444493593508" +
                "863950801480054433146855654993633499413914307208967331954221376966451985500430602036650700305229172304" +
                "180893423805192095341000715872989360338645767024318870964579896541374716466790657793626786619645777575" +
                "725201525206849371500046095671859314212334199062621545989393307713205961370163730108767599960625568770" +
                "666759167609140957787745166366828753878219741899632773422830109247698262687392857649056348005941031076" +
                "752669625841664578777850741422070444113091449366842519591017691876144846439686998354053542877625346487" +
                "955175624486215981740812645677422575280375383839984593375739620160241606884227252348714067646215303058" +
                "620462511361143404243379876057865211792276865924716635443198794346384300393989082145350926296523390205" +
                "936923867352529420613175055162588235777411407135882612577321222241507557480399802221427494874079921057" +
                "235908460732175751070923024504053582178029900168355208962247849282169638995310140443246397648336810316" +
                "618245483514482857232516503146650359845826731721199317336514580993614300832698956640756250734964088719" +
                "231342292589019354488374474317972715344110271406588152058080002070383314894776888764919121779778097992" +
                "559298735696420239062398346527780426330882193305167988388929526650413982537028775263191758968146225048" +
                "493810003761477518833823483221862089584693753486955314912872160141770562731364308128894861313821916302" +
                "529350237181915996425980823763402394493133206260547461227227952942633116467808815509564649946624555764" +
                "973768486005373850490173426603973924832471662523353196488669478814273427644541900818431331128563452899" +
                "821336698065206609343336504397159272463767046805637771894800172647092026914756304769045606113544923859" +
                "201585476108353852270283214605816840639936495404052031230642965704397081885821816028731947397354288534" +
                "932687388070252703931901402542504767492800362215717560636122157577154830713488980164841780540768278456" +
                "702453155624160301188469521190124789364184895566042395423406027508639190054371456530731597426137613067" +
                "738701184324855490931348288451030446881002360121235854269083519333685106379764362077828062710903198083" +
                "953882127926442954974586224067950690644993937386821304501949372787860775897268152501380747651656763526" +
                "393868727918230652389629347942181277527576706708083466121006005144979119375519419027272826469083751558" +
                "771847261339433400555073161075918919696829586085686112702027264337447659441634857535555935063864587807" +
                "511510167284326683939529538151663246341169147652741388527173363997985977147970120738244186235368880843" +
                "112707070544353839396999168072986099764378733036126045207917939621560478375885796816078037696200535510" +
                "538610133670055703047259382960004768275890463894603799548642154546636459130090731869293155708808908619" +
                "552705196731952165649687903562125508670104253740476568864358345293258549545265638557823894202598417370" +
                "172172686425183159421321521488766801350825978124839994621908734501662536870642315791600349618322824422" +
                "168258863075540277447300633825712505387979476200743782980038536917174959277839734648632763901621871137" +
                "189259561058070715276258135995326589762388856143118878404384447305257105541922353859691053736035216387" +
                "355056040315335249912108553401209597802803995096707548397423021543288717363624756662365338086686443016" +
                "517536635261081932242416123309216431278840719772808703205024245529608727402614928972815992826393710602" +
                "720624743920324770549021193298044248775458486523672503626150390027292399966637320261979408133557455327" +
                "226222460502089999255837406641096236323461900527930178479156498896271885259157985351405518731737276022" +
                "525927838503259553381172357606884100302253286938986951254699120186069925082469940115233270234621569793" +
                "791233995817559906143825995738850389744164723417123138924276476613965884784886501545429606472172857605" +
                "559466371491273150548032584555653953297871100514232684212241801238351039966919906436434535504658078789" +
                "030161483297022604102910828402140950822610074026182349363469144661757646429020916949237033145066367730" +
                "935302825146559304012835717705225002720827157016247595887098302395103823786331745282746283748783105452" +
                "968524194955094930027055832288207759461749323877891367398621212648782651278814024147639354365095990504" +
                "461772639807323273725640044128940475687508209502527687714707200206892090585439554749102307468995265598" +
                "827375466607955472218576867833917991727231142090311026170967297282042987648191849852858713837770155988" +
                "921021456571597907897105522425883194681902819870834952893179566667364771358532644737880265587162487369" +
                "200113324599649597951249166501786422449740105066018494590392403568037421814619471136760701313502896078" +
                "227915807270388245995894471488751113458937188736022766190827231893969011230697489685883317491847999712" +
                "048850724734588309556115656929116077336331166841754645364688162462085781357318052206746714071148212606" +
                "213069993985664682441826725297926245216338373441176993002036759960004178307009664716952071043098453077" +
                "940424206744536731373879955327502460356515794449105110907066560140443994130378065185420973036632323608" +
                "624380842780783675395746372859090406273387445056083379090734652498017873707667093913955210597737354490" +
                "669165539110237499264300291456087189863325670987421450260498419881658733252683130060518181694048112058" +
                "776927540344524898263748191639140852097771902609801852626430106872758005027680965179265171677818741743" +
                "825715346269912444724956539513215753409841874123595274631980294860580561145620543019303359657932405227" +
                "470013475498723558143825214042560962838760611052762471866548845371638822206462824204653012438609906651" +
                "702948697603223117435659728792842272306246028878849335814710514151184367269251970393307938959625094074" +
                "951951888809892565513598888570103405560875478720910953266948786234554286239536219833473855119351412658" +
                "340309907180664222130986006772139768643979399779187489991159279037593710095917717016857255149060921309" +
                "657698793944491131649113378975181058038302298388102200830609195432240960171836512997439310452691876556" +
                "727870500474310950823403700023620369378885366137525056762297398736509607192266391121357565940749482158" +
                "327592005544128069933796677467732407804391634959802511824997117788218183094986337616430781339660352024" +
                "730918290175764179618970186766664465722123225381168611669091251266559312208846739573288246098422730061" +
                "873061455066551715882270942318399767585923749930003351498485341883357609721952491205424226725827159849" +
                "005090115397206025350622657467867062272969257499829680986257746722531269437702310836333441409435519098" +
                "966765569441546717365573504373573927877650909837417827084553540631700506949207857648347828901099318620" +
                "530773796666447677109895890115387549118269855032500055200130951208543289488324870310428259304423075423" +
                "439069527264766022046732435598350046007268431535807271012112728538413676078537878310391795841195497641" +
                "348692882105875953242389919035808422549300162700035303305208848374833492969338837631813623037167020335" +
                "919667094488703614706303582929890089614363133009619005791424248069105196871103675134638691651310410740" +
                "800425770507697045591055785872307559560691544490469965205915600390837451774026385019464548888916768835" +
                "816431177064176178855647963762085828434911248636629700011336966861948019021412182816496817157273593709" +
                "552770741807938961074647205685255692369868351080166373089649492435825442535070688620133783486979555074" +
                "709737080427199332446614048886118222012915416231872692768893896929264550910491679003958017635236595505" +
                "832442634220430012631254903059576062249586241263499105772012269628484073188120535483044694359396475416" +
                "466358736216440878194394939482694192306654501326822729923079081670183413773867156339425708427410754843" +
                "046173901114208989592692202560757648675631220623647600032025822149886574730786906608800759317271705880" +
                "063106707602569424608913827468656738509226136236187782186588335799681232939302858886153119567555863867" +
                "753557403720513465301918146474139436450863288632123786914475961370537263524013089623717898564531843576" +
                "129336313789578810012881399891145101730998827836727914005699048689177064425386948071135196729709282420" +
                "298481240887888043160934836613572232730577430012836521967199412495021853475847601054310164718346523346" +
                "260217499257073011661318901169583713619634601037640148595249430353154575180738170353867214888867285762" +
                "679647216241715338184660352936916806121586910696813356929870186309397437718800496285242983984639878638" +
                "390290487949768285761068882666162271772262662225027773513806174399213985956469078223592799481543627915" +
                "442253713856315165977825335682210552488640050276578165072180476416474623391622139934129626491821492560" +
                "620450137430427785734256032969047118090043011420749181985587257922552520870565466924063146353627552640" +
                "483022658999254439771156244880729827724283119996507611904360947871285266323482288286519325611312473201" +
                "377558621252875608710247960871204318011645862707919827977778161371129129509524339173134623958328573363" +
                "265964801565028698851500646890992065984754551017242761617624065173991693950459798249652159125613321264" +
                "674785119583741664342429297910142060476009549231985744903072767215733743566863111559037945056628653008" +
                "057578076306080348280064206979351916422097496806542795240890793265990810237871527252324217009113661468" +
                "412415872449798891031752868664346010535718193444692210944599941476830110426987690603878541756211618132" +
                "133067080859320605380702069807182306333046861562923270504519641914803105970562801360817500933191429188" +
                "580875196260545847460419420625722475367674237262923467763105426068549719178378668819786805212576177264" +
                "040949511215576188269822366838153968218686762926290755720567510373245164756842944423699212491240487464" +
                "281580686750806724451064512444192234336251813764582803376461209571993619736455646214921063358870308182" +
                "3042665930493669537680372203970374907819690111266524020297618305364252373553125");
        Assertions.assertEquals(expected, FibonacciWithTabulation.fib_with_tabulation(N));
    }

}